<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5.6.2 - Ajax - CargaLenta</title>
    <script src="jquery-3.6.1.min.js"></script>

</head>

<body>
    <!-- Crea un enlace en una página Web que al pulsarlo ejecute el script “pagina-lenta.php”.
Mientras se carga dicho script se mostrará una imagen de espera (archivo “load.gif”). -->
    <a href="#" id="enlaceAjax">Cargar contenido</a>
    <section id="contenido">

    </section>
    <img id="cargando" style="display:none;" src="./imagenes/load.gif" alt="cargando">
    <script>
        $(document).ready(function () {
            $("#enlaceAjax").click(function (evento) {
                //elimino el comportamiento por defecto del enlace
                evento.preventDefault();
                //Aquí pondría el código de la llamada a Ajax
              
                //Mostramos gif de carga
              $('#cargando').css("display", "block")

                //PRUEBA 2
                $.ajax(
                    'pagina-lenta.php',
                    {
                        success: function (data) {
                            alert('AJAX call was successful!');
                            alert('Data from the server' + data);
                        },
                        error: function () {
                            alert('There was some error performing the AJAX call!');

                        }

                    }

                );


                

                //cargamos el contenido, cuando acabe ocultmos ggif
                $("#contenido").load("pagina-lenta.php", function () {
                    $('#cargando').css("display", "none")
                });
            });
        });

    </script>
</body>

</html>