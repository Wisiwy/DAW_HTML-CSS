
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="espacio"></div>
    <script>
        /* localStorage: almacen al ainfomacion de forma indefinida o hasta que se elimni la info de foma intencionada.
        sessionStorage: almacena amienta la pestaña del navegador esté abierta */
        
        /* Características de Local Storage y Session Storage:
        -Permiten almacenar entre 5 MB y 10 MB de información; incluyendo texto y multimedia. 
        - La información est´la almacenada den al amáquina cliente; no es enviada, en cad petición
         al servidor, está ruta del anvegador del clinete
        - Utilizan un ´numero mínimo de peticiones al servidor para reducir el tráfico de red. 
        Previene pérdida de información cuando se desconecta de la red. 
        -L a información es guardada por dominio web ( incluye todas las páginas del sitio) */
        
        
        //1.comprobar si el navegador soporta el objeto Storage
        /* if(typeof(Storage)!= 'undefined'){
            alert('Navegador compatible con Storage.')
        }else{
            alert('Navegador NO compatible con Storage.')
        } */
        
        //2.Muestra que es código nativo
        console.log(Storage);
        
        //3.Asignamos unos elementos a storage
        let listado = ['PHP','Python','Java','C#','JavaScript'];
        localStorage.setItem("cursos", listado);
        
        //4.Mediante sessinStorage crearemos un elemento que se borrara automáticamente
        sessionStorage.setItem("cursos1",listado); //mientras este el navegador abierto
        
        //5. Leer elementos almacenados 
        //no necesario set item
        localStorage.canal="Unacadenasinmas"; //==localStorage.setItem("canal,"Unacadenasinmal") //como setItem pero resumido
        let lectura = localStorage.getItem("canal"); //==localStorage.canal;
        console.log(lectura);
        //no necesario get item
        console.log(localStorage.cursos); //recuperar el contenido de cursos
        
        //6.Para almacenarlo en JSON
            //JSON convertir objetos en cadena de texto. JSON.stringify. 
            //Estos archivos se envian dentro
        localStorage.setItem("cursos2",JSON.stringify(listado));
        let auxJSON = JSON.stringify(listado);
        console.log("array en Json " + auxJSON );

        //7.Recuperar JSON (JavaScript Objecto Notation)
        //en cursos2Almacenado recuperamos el contenido de "cursos2" // lo transforma(parse) en un objeto par ausar en Js 
        let curso2Almacenado = JSON.parse(localStorage.getItem("cursos2"));  
        console.log(curso2Almacenado);

        //8.Eliminar elemento
        localStorage.removeItem("cursos1");

        //9.Limpiar todo
        //localStorage.clear();

        //10. Extendiendo el ejemplo

              lst = [{
            name:"Pedro",
            age: "27"
        },{
            name:"Sergio",
            age:"35"
        }]
        localStorage.setItem("personas",JSON.stringify(lst));
        let nuevaLista = localStorage.getItem("personas");
        //con parse comvertimos los objetos en 
        let nuevaLista1 = JSON.parse(localStorage.getItem("personas"));

        //vemos que tipo de datos son
        console.log("nuevaLista es " + typeof(nuevaLista));
        console.log("nuevaLista1 es " + typeof(nuevaLista1));
        
        localStorage.clear();
        
        //11.Llevarlo a nuestro HTML
        nuevaLista1.forEach(element => {
            let espacioDiv = document.getElementById("espacio");
            let div = document.createElement("div");
            //cada elemento sera de objeto lst
            div.innerHTML = element.name + " " + element.age;
            espacioDiv.appendChild(div);
            
        });

        </script>    
</body>
</html>


<!--  -->